(this.webpackJsonpnasa=this.webpackJsonpnasa||[]).push([[0],[,function(e,t,a){e.exports={wrapper:"astronomyPicture_wrapper__2gd1t",picture:"astronomyPicture_picture__3Xkej",calendar:"astronomyPicture_calendar__owVfe",error:"astronomyPicture_error__2LjM7"}},,,,,,,function(e,t,a){e.exports=a(15)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),i=a.n(o),c=(a(13),a(14),a(4)),s=a(5),l=a(7),u=a(6),m=a(1),d=a.n(m),h=function(){return r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},g=function(e){return r.a.createElement("div",{className:e.style.calendar},r.a.createElement("input",{name:e.name,type:"date",value:e.value,onChange:e.onChange}))},p=function(e){return r.a.createElement("div",{className:d.a.wrapper},r.a.createElement("div",{className:d.a.picture},e.isFetching&&r.a.createElement(h,null),e.error?r.a.createElement("p",{className:d.a.error},e.error):!e.isFetching&&r.a.createElement("img",{src:e.imageUrl})),r.a.createElement(g,{style:d.a,name:"Calendar",value:e.date,onChange:e.handlerCalendar}))},v=function(e){return fetch("https://api.nasa.gov/planetary/apod?api_key=".concat("3JTXJIJ51tHe1R0q9iq3VbgXJxq7moRTUxaeBsa2","&date=").concat(e)).then((function(e){return e.json()}))},f=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handlerCalendar=function(e){var t=e.target.value;!function(e){var t=f(new Date);f(e)===t&&localStorage.removeItem("date")}(t),n.setState({error:null}),(e.target.name="calendar")&&(n.setState({date:t}),function(e){f(new Date(e))!==f(new Date)&&localStorage.setItem("date",e)}(t),n.setState({isFetching:!0}),v(t).then((function(e){var t;!(t=e.url)||!t.includes("image")?(n.setState({error:"Image does not exists"}),n.setState({isFetching:!1})):(n.setState({imageUrl:e.url}),n.setState({error:null}),n.setState({isFetching:!1}))})))},n.state={imageUrl:null,error:null,date:f(new Date),isFetching:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("date");this.setState({date:t});var a=t||this.state.date;this.setState({isFetching:!0}),v(a).then((function(t){e.setState({imageUrl:t.url}),e.setState({isFetching:!1})}))}},{key:"render",value:function(){return r.a.createElement(p,{imageUrl:this.state.imageUrl,handlerCalendar:this.handlerCalendar,date:this.state.date,error:this.state.error,isFetching:this.state.isFetching})}}]),a}(r.a.Component);var E=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.2972cc3f.chunk.js.map